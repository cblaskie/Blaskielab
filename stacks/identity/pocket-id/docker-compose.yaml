
services:
  pocket-id:
    user: "1002:281"
    image: ghcr.io/pocket-id/pocket-id:v2.0.2
    container_name: pocket-id
    restart: unless-stopped

    env_file:
      - .env
    volumes:
      - /mnt/user/appdata/pocket-id:/data

    networks:
      - proxy_net

    labels:
     - traefik.enable=true
     - traefik.http.routers.pocketid.rule=Host(`id.theblaskies.com`)
     - traefik.http.routers.pocketid.entrypoints=websecure
     - traefik.http.routers.pocketid.tls=true
     - traefik.http.routers.pocketid.tls.certresolver=cloudflare
     - traefik.http.services.pocketid.loadbalancer.server.port=1411
     - traefik.http.routers.pocketid.priority=100

networks:
  proxy_net:
    user: "1002:281"
    external: true
