services:
  chaptarr:
    image: robertlordhood/chaptarr:latest
    container_name: Chaptarr
    environment:
      - TZ=US/Eastern
      # Database settings (uncomment if using external Postgres)
      # - Chaptarr__Postgres__Host=
      # - Chaptarr__Postgres__Port=5432
      # - Chaptarr__Postgres__User=
      # - Chaptarr__Postgres__Password=
    volumes:
      - /mnt/user/appdata/chaptarr/config:/config
      - /mnt/user/data:/data
    labels:
      - "traefik.enable=true"
      # Replace 'chaptarr.yourdomain.com' with your actual domain
      - "traefik.http.routers.chaptarr.rule=Host(`chaptarr.theblaskies.com`)"
      - "traefik.http.routers.chaptarr.entrypoints=websecure"
      - "traefik.http.routers.chaptarr.tls=true"
      - "traefik.http.routers.chaptarr.tls.certresolver=lfm"
      - "traefik.http.services.chaptarr.loadbalancer.server.port=8789"
      - "traefik.docker.network=proxy_net"
    networks:
      proxy_net:
    ports:
      - 8789:8789
    restart: unless-stopped

networks:
  proxy_net:
    external: true
